!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/dist/",s(s.s=1)}([function(t,e,s){},function(t,e,s){"use strict";s.r(e);s(0);function i(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var n=function(){function t(e,s,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.urlList=s,this.onload=i,this.bufferList=new Array,this.loadCount=0}var e,s,n;return e=t,(s=[{key:"loadBuffer",value:function(t,e){var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer";var i=this;s.onload=function(){i.context.decodeAudioData(s.response,(function(s){s?(i.bufferList[e]=s,++i.loadCount==i.urlList.length&&i.onload(i.bufferList)):alert("error decoding file data: "+t)}))},s.onerror=function(){alert("BufferLoader: XHR error")},s.send()}},{key:"load",value:function(){for(var t=0;t<this.urlList.length;++t)this.loadBuffer(this.urlList[t],t)}}])&&i(e.prototype,s),n&&i(e,n),t}();function a(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eleList=document.querySelector("#instrumentals-ul").children,this.numArtists=this.eleList.length,this.firstNames=[],this.gatherImageStrings=this.gatherImageStrings.bind(this),this.imageStringsObj=this.gatherImageStrings(),this.changeImage=this.changeImage.bind(this)}var e,s,i;return e=t,(s=[{key:"gatherImageStrings",value:function(){for(var t={},e=0,s=0;s<this.numArtists;s++){var i=[],n=this.eleList[s].innerHTML.split(" -")[0].split(" ")[0].toLowerCase();this.firstNames.push(n);for(var a=e;a<e+4;a++)i.push("./dist/images/artist-pictures/".concat(n,"/").concat(a+1,".jpg"));t[n]=i,e+=4}return t}},{key:"changeImage",value:function(t,e,s){e.src=this.imageStringsObj[t][s]}},{key:"triggerImageChanges",value:function(t,e){var s=this,i=0;setInterval((function(){i++,i%=4,s.changeImage(t,e,i)}),508.47457627118644)}}])&&a(e.prototype,s),i&&a(e,i),t}();function r(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.imageTimer=new o,this.init=this.init.bind(this),this.onLoad=this.onLoad.bind(this),this.context=new AudioContext,this.instGainNodes=[],this.voxGainNodes=[],this.finalMasterGainNode=this.context.createGain(),this.finalMasterGainNode.connect(this.context.destination),this.instMasterGainNode=this.context.createGain(),this.instMasterGainNode.connect(this.finalMasterGainNode),this.voxMasterGainNode=this.context.createGain(),this.voxMasterGainNode.connect(this.finalMasterGainNode),this.numPlayClicks=0}var e,s,i;return e=t,(s=[{key:"init",value:function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,this.bufferLoader=new n(this.context,["./dist/stems/instrumentals/ariana_inst.wav","./dist/stems/instrumentals/grimes_inst.wav","./dist/stems/instrumentals/lizzo_inst.wav","./dist/stems/instrumentals/taylor_inst.wav","./dist/stems/instrumentals/kim_inst.wav","./dist/stems/instrumentals/justin_inst.wav","./dist/stems/instrumentals/charli_inst.wav","./dist/stems/instrumentals/katy_inst.wav","./dist/stems/vocals/ariana_vox.wav","./dist/stems/vocals/grimes_vox.wav","./dist/stems/vocals/lizzo_vox.wav","./dist/stems/vocals/taylor_vox.wav","./dist/stems/vocals/kim_vox.wav","./dist/stems/vocals/justin_vox.wav","./dist/stems/vocals/charli_vox.wav","./dist/stems/vocals/katy_vox.wav"],this.onLoad),this.bufferLoader.load()}},{key:"onLoad",value:function(t){var e=this;this.instrumentals=[],this.vocals=[];for(var s=0;s<8;s++)this.instrumentals.push(this.context.createBufferSource()),this.instrumentals[s].buffer=t[s],this.instGainNodes[s]=this.context.createGain(),this.instrumentals[s].connect(this.instGainNodes[s]),this.instGainNodes[s].connect(this.instMasterGainNode),this.instGainNodes[s].gain.value=0,this.instrumentals[s].loop=!0;for(var i=0;i<8;i++)this.vocals.push(this.context.createBufferSource()),this.vocals[i].buffer=t[i+8],this.voxGainNodes[i]=this.context.createGain(),this.vocals[i].connect(this.voxGainNodes[i]),this.voxGainNodes[i].connect(this.voxMasterGainNode),this.voxGainNodes[i].gain.value=0,this.vocals[i].loop=!0;var n=document.querySelector("#play-pause"),a=document.querySelector(".button-img");n.onclick=function(){if("loading-img"!==a.id)if("paused"===n.getAttribute("playStatus"))if(n.firstElementChild.setAttribute("src","./dist/images/soundon.png"),n.setAttribute("playStatus","playing"),document.querySelector("#full-black-bg").setAttribute("class","hidden"),0===e.numPlayClicks){for(var t=0;t<8;t++)e.finalMasterGainNode.gain.value=.8,e.instrumentals[t].start(0),e.vocals[t].start(0);e.numPlayClicks++;for(var s=Array.from(document.querySelector("#left-img-wrapper").children).slice(2),i=0;i<s.length;i++){var o=s[i];e.imageTimer.triggerImageChanges(e.imageTimer.firstNames[i],o)}for(var r=Array.from(document.querySelector("#right-img-wrapper").children).slice(2),l=0;l<r.length;l++){var c=r[l];e.imageTimer.triggerImageChanges(e.imageTimer.firstNames[l],c)}}else e.finalMasterGainNode.gain.value=.8;else e.finalMasterGainNode.gain.value=0,n.firstElementChild.setAttribute("src","./dist/images/mute.png"),n.setAttribute("playStatus","paused"),document.querySelector("#full-black-bg").setAttribute("class","showing")};var o=document.querySelector("#inst-solo-btn"),r=document.querySelector("#vox-solo-btn"),l=document.querySelector("#all-btn");o.onclick=function(t){t.stopPropagation(),o.classList.contains("solod")||(o.setAttribute("class","solod"),r.setAttribute("class","muted"),l.setAttribute("class","muted"),e.voxMasterGainNode.gain.value=0,e.instMasterGainNode.gain.value=.8,document.querySelector("#black-bg-right").setAttribute("class","showing"),document.querySelector("#black-bg-left").setAttribute("class","hidden"))},r.onclick=function(t){t.stopPropagation(),r.classList.contains("solod")||(r.setAttribute("class","solod"),o.setAttribute("class","muted"),l.setAttribute("class","muted"),e.voxMasterGainNode.gain.value=.8,e.instMasterGainNode.gain.value=0,document.querySelector("#black-bg-left").setAttribute("class","showing"),document.querySelector("#black-bg-right").setAttribute("class","hidden"))},l.onclick=function(t){t.stopPropagation(),l.classList.contains("solod")||(l.setAttribute("class","solod"),r.setAttribute("class","muted"),o.setAttribute("class","muted"),e.voxMasterGainNode.gain.value=.8,e.instMasterGainNode.gain.value=.8,document.querySelector("#black-bg-right").setAttribute("class","hidden"),document.querySelector("#black-bg-left").setAttribute("class","hidden"))}}}])&&r(e.prototype,s),i&&r(e,i),t}();function c(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instrumentalList=document.querySelector("#instrumentals-ul").children,this.vocalList=document.querySelector("#vocals-ul").children,this.modalBg=document.querySelector(".modal-background"),this.modal=document.querySelector(".modal-child"),this.startBtn=document.querySelector(".start-btn"),this.questionBtn=document.querySelector("#question-btn"),this.processInstTrackClick=this.processInstTrackClick.bind(this),this.processVocalsTrackClick=this.processVocalsTrackClick.bind(this),this.buffer=e}var e,s,i;return e=t,(s=[{key:"processInstTrackClick",value:function(t){for(var e=0;e<this.instrumentalList.length;e++){var s=this.instrumentalList[e],i=s.innerHTML.split(" -")[0].split(" ")[0].toLowerCase(),n=document.querySelector("#".concat(i,"-left-img"));t===e?s.classList.contains("selected")?(s.classList.remove("selected"),this.buffer.instGainNodes[e].gain.value=0,n.setAttribute("class","hidden"),document.querySelector("#black-bg-left").setAttribute("class","showing")):(s.classList.add("selected"),this.buffer.instGainNodes[e].gain.value=1,n.setAttribute("class","showing"),document.querySelector("#black-bg-left").setAttribute("class","hidden")):(s.classList.remove("selected"),this.buffer.instGainNodes[e].gain.value=0,n.setAttribute("class","hidden"))}}},{key:"processVocalsTrackClick",value:function(t){for(var e=0;e<this.vocalList.length;e++){var s=this.vocalList[e],i=s.innerHTML.split(" -")[0].split(" ")[0].toLowerCase(),n=document.querySelector("#".concat(i,"-right-img"));t===e?s.classList.contains("selected")?(s.classList.remove("selected"),this.buffer.voxGainNodes[e].gain.value=0,n.setAttribute("class","hidden"),document.querySelector("#black-bg-right").setAttribute("class","showing")):(s.classList.add("selected"),this.buffer.voxGainNodes[e].gain.value=1,n.setAttribute("class","showing"),document.querySelector("#black-bg-right").setAttribute("class","hidden")):(s.classList.remove("selected"),this.buffer.voxGainNodes[e].gain.value=0,n.setAttribute("class","hidden"))}}},{key:"openModal",value:function(){this.modalBg.setAttribute("class","modal-background"),this.modal.setAttribute("class","modal-child"),this.startBtn.setAttribute("class","start-btn")}},{key:"closeModal",value:function(){this.modalBg.setAttribute("class","modal-background-fade-out"),this.modal.setAttribute("class","modal-child-fade-out"),this.startBtn.setAttribute("class","modal-child-fade-out")}},{key:"addClickListeners",value:function(){for(var t=this,e=function(e){t.instrumentalList[e].addEventListener("click",(function(){return t.processInstTrackClick(e)}))},s=0;s<this.instrumentalList.length;s++)e(s);for(var i=function(e){t.vocalList[e].onclick=function(){return t.processVocalsTrackClick(e)}},n=0;n<this.vocalList.length;n++)i(n);this.modalBg.onclick=function(){t.closeModal()},this.startBtn.onclick=function(e){t.closeModal(),e.stopPropagation()},this.modal.onclick=function(t){t.stopPropagation()},this.questionBtn.onclick=function(){t.openModal()}}}])&&c(e.prototype,s),i&&c(e,i),t}();document.addEventListener("DOMContentLoaded",(function(){window.newBuffer=new l,newBuffer.init(),newBuffer.onLoad(newBuffer.bufferLoader.bufferList),new u(newBuffer).addClickListeners(),setTimeout((function(){document.querySelector("#loading-bg").setAttribute("id","hidden-loading-bg")}),5e3);var t=document.querySelector("#play-pause");setTimeout((function(){t.firstElementChild.setAttribute("id","play-pause-img"),t.firstElementChild.setAttribute("src","./dist/images/play.png")}),9e3)}))}]);
//# sourceMappingURL=index.js.map